<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreetLift Pro | Premium Streetlifting Performance</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon.png">
    <meta name="theme-color" content="#e4f246">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="StreetLift Pro">
    <link rel="apple-touch-icon" href="icon.png">
</head>

<body>
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <!-- Header -->
    <header class="container">
        <div class="header-top">
            <h1>STREETLIFT <span class="accent-text">PRO</span></h1>
            <div class="header-controls">
                <button id="pwa-install" class="theme-btn" style="display: none;" title="Install App">üì•</button>
                <button id="theme-toggle" class="theme-btn">üåô</button>
            </div>
        </div>
        <p class="subtitle">Built for Streetlifters</p>
    </header>

    <main class="container">

        <!-- TAB 1: CALCULATOR -->
        <section id="tab-calculator" class="tab-content active">

            <!-- 1RM Inputs -->
            <h2>Your 1RM Stats</h2>
            <p class="section-desc">Input your added weight (e.g., 20) or assistance (e.g., -14).</p>
            <div class="rm-tracker glass">
                <div class="rm-input-group">
                    <label for="rm-muscleup">Muscle-Up (kg)</label>
                    <input type="number" id="rm-muscleup" placeholder="0" step="1.25">
                </div>
                <div class="rm-input-group">
                    <label for="rm-dip">Dip (kg)</label>
                    <input type="number" id="rm-dip" placeholder="0" step="1.25">
                </div>
                <div class="rm-input-group">
                    <label for="rm-squat">Squat (kg)</label>
                    <input type="number" id="rm-squat" placeholder="0" step="1.25">
                </div>
                <div class="rm-input-group">
                    <label for="rm-pullup">Pull-Up (kg)</label>
                    <input type="number" id="rm-pullup" placeholder="0" step="1.25">
                </div>
            </div>

            <!-- Central Bodyweight Section -->
            <div class="bw-section glass">
                <div class="input-group">
                    <label for="calc-bw">Your Bodyweight (kg)</label>
                    <input type="number" id="calc-bw" placeholder="e.g. 62">
                </div>
            </div>

            <!-- Sub Tabs for Exercises -->
            <div class="sub-tabs">
                <button class="sub-tab-btn active" data-ex="muscleup">Muscle-Up</button>
                <button class="sub-tab-btn" data-ex="dip">Dip</button>
                <button class="sub-tab-btn" data-ex="squat">Squat</button>
                <button class="sub-tab-btn" data-ex="pullup">Pull-Up</button>
            </div>

            <!-- The Calculator Module -->
            <div class="glass">
                <div class="exercise-header">
                    <h3 id="calc-title">Muscle-Up Calculator</h3>
                </div>

                <div class="routine-controls">
                    <div class="input-group">
                        <label>Reps</label>
                        <input type="number" id="calc-reps" placeholder="5">
                    </div>
                    <div class="input-group">
                        <label>RIR</label>
                        <select id="calc-rir">
                            <option value="0">0 (Max Effort)</option>
                            <option value="0.5">0-1 (RPE 9.5)</option>
                            <option value="1">1 (RPE 9)</option>
                            <option value="1.5">1-2 (RPE 8.5)</option>
                            <option value="2">2 (RPE 8)</option>
                            <option value="2.5">2-3 (RPE 7.5)</option>
                            <option value="3">3 (RPE 7)</option>
                            <option value="3.5">3-4 (RPE 6.5)</option>
                            <option value="4">4 (RPE 6)</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" id="btn-calculate">Calculate Weight</button>

                <!-- Result -->
                <div class="result-box">
                    <div class="result-sub">You should lift:</div>
                    <div class="result-main" id="result-weight">--</div>
                    <div class="result-sub" id="result-breakdown">Total Load: --</div>
                </div>
            </div>

            <!-- Estimate 1RM Section -->
            <div class="glass" id="estimate-section">
                <h3>Don't know your 1RM yet? Calculate it here!</h3>
                <div class="routine-controls">
                    <div class="input-group">
                        <label>Weight Lifted (Added/Assisted)</label>
                        <input type="number" id="est-weight" placeholder="+10 or -14">
                    </div>
                    <div class="input-group">
                        <label>Reps Done</label>
                        <input type="number" id="est-reps" placeholder="5">
                    </div>
                </div>
                <button class="btn btn-secondary" id="btn-estimate">Estimate 1RM</button>
                <div id="est-result" class="result-sub" style="margin-top: 1rem; font-weight: bold; display: none;">
                    Estimated 1RM (Added): <span id="est-val" class="accent-text">--</span> kg
                </div>
            </div>

            <!-- How to Use Section -->
            <div class="glass how-to-use">
                <h3>How to Use</h3>
                <ul>
                    <li><strong>1. Enter 1RM Stats:</strong> Put the weight you added to your bodyweight for your best
                        single rep. Use negative values (e.g., -10) if you used assistance.</li>
                    <li><strong>2. Set Bodyweight:</strong> This is used to calculate percentages correctly.</li>
                    <li><strong>3. Use Calculator:</strong> Select an exercise and input the target reps/RIR to see what
                        weight to use.</li>
                    <li><strong>4. Check Routine:</strong> View your weekly plan in the Routine tab.</li>
                    <li><strong>5. Workout Mode:</strong> Use the Workout tab during your session for specific targets.
                    </li>
                </ul>
            </div>
        </section>


        <!-- TAB 2: ROUTINE -->
        <section id="tab-routine" class="tab-content">
            <h2>Training Routine</h2>
            <div class="glass">
                <div class="routine-controls">
                    <div class="input-group">
                        <label>Current Block</label>
                        <select id="routine-block">
                            <option value="1">Block 1</option>
                            <option value="2">Block 2</option>
                            <option value="3">Block 3</option>
                            <option value="4">Block 4</option>
                            <option value="5">Block 5</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Current Week</label>
                        <select id="routine-week">
                            <option value="1">Week 1</option>
                            <option value="2">Week 2</option>
                            <option value="3">Week 3</option>
                            <option value="4">Week 4</option>
                        </select>
                    </div>
                </div>

                <p class="subtitle" style="text-align:left; font-size: 0.8rem;">
                    * Increase weight by 2.5kg after finishing a block.<br>
                    * Primary/Secondary Main Lifts calculated from 1RM Inputs.
                </p>

                <div class="table-wrapper">
                    <table id="routine-table">
                        <thead>
                            <tr>
                                <th>Week</th>
                                <th>Primary Main Lift</th>
                                <th>Secondary Main Lift</th>
                                <th>Primary Muscle Up</th>
                                <th>Secondary Muscle Up</th>
                                <th>Assistance 1</th>
                                <th>Assistance 2</th>
                            </tr>
                        </thead>
                        <tbody id="routine-table-body">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>


        <!-- TAB 3: WORKOUT -->
        <section id="tab-workout" class="tab-content">
            <h2>This Week's Workout</h2>
            <p class="subtitle" id="workout-subtitle">Based on Block 1, Week 1</p>

            <div id="workout-display">
                <!-- Populated by JS -->
            </div>
        </section>

    </main>

    <!-- Bottom Navigation -->
    <nav class="main-nav">
        <a href="#" class="nav-item active" data-target="tab-calculator">
            <span class="nav-icon">üî¢</span>
            <span>Calculator</span>
        </a>
        <a href="#" class="nav-item" data-target="tab-routine">
            <span class="nav-icon">üìã</span>
            <span>Routine</span>
        </a>
        <a href="#" class="nav-item" data-target="tab-workout">
            <span class="nav-icon" id="workout-emoji">üí™üèæ</span>
            <span>Workout</span>
        </a>
    </nav>

    <!-- Toast Notification -->
    <div id="toast" class="toast">Notification</div>

    <script src="script.js?v=2.0"></script>
</body>

</html>